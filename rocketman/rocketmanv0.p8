pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
--next things to try
---add rotation
---add thrust curves
----for both nozzles
---add actual game mechanics
----imagine that!
---draw the rocket blasts with
----code rather than sprites
----proportionally to thrust?
---fuel limits?

debug = true

rot = 0 --rotation
spr0 = 1 --sprite zero (first)

pos = { 58, 100 } --position
grv = { 0, 0.1 } --gravity
acc = { 0, 0 } --acceleration
vel = { 0, 0 } --velocity

function _update60()
	if btn(⬆️) then
	 spr0 = 17
	 acc[2] = -0.166
	 sfx(0)
	elseif btn(⬇️) then
	 spr0 = 33
  acc[2] = 0.1125
	 sfx(0)
	else
		acc[2] = 0
	 spr0 = 1
	 sfx(-1)
	end

 --add rocket accel and
 --gravity to velocity vector
 vel[2] = vel[2] + acc[2]
 vel[2] = vel[2] + grv[2]

 --if headed downward and at
 --floor level stop dead at
 if vel[2] > 0 then
  if pos[2] == 100 then
   --record max landing speed
   vl = max(vl, vel[2])
   vel[2] = 0
  end
 end
 --don't go below the floor.
 --runs on every downward
 --update. if perf mattered
 --more than tokens i would
 --only do this between y=99
 --and y=101 (or something)
 pos[2] = min(
  pos[2] + vel[2],
  100
 )
end

function _draw()
 cls(1)
 rectfill(0, 116, 127, 127, 15)
 spr(spr0, pos[1], pos[2])
	spr(spr0+1, pos[1]+8,pos[2])
	spr(spr0+2, pos[1], pos[2]+8)
	spr(spr0+3, pos[1]+8, pos[2]+8)

 if debug then
  print(
   "p:"..pos[1].." "..pos[2],
   0, 0, 8 -- makes prints red
  )
  print("v:"..vel[1].." "..vel[2])
  print("a:"..acc[1].." "..acc[2])
  print("g:"..grv[2])
  print(vl)
 end
end
__gfx__
00000000000000055000000000006677776600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000555500000000006667766600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000555500000000006666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000555500000000005666666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000006666660000000000666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000066666666000000000665566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000066766766000000000665566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000066766766000000000665566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000055000000000006677776600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000555500000000006617716600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000005555000000000066c88c6500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000005555000000000056c99c6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000666666000000000068aa86000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000066666666000000000695596000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000667667660000000006a55a6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000066766766000000000665566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000055000000000006677776600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000555500000000006667766600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000555500000000006666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000555500000000005666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000006c66c60000000000666666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000066166166000000000665566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000066766766000000000665566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000066766766000000000665566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
001000200661005610076100661005610036100261002610036100461006610086100961009610076100561004610036100361004610066100861009610086100561003610026100261003610066100861007610
